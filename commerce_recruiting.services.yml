services:
  logger.channel.common_recruit_a_friend:
    parent: logger.channel_base
    arguments: ['commerce_recruiting']
  commerce_recruiting.manager:
    class: Drupal\commerce_recruiting\RecruitingManager
    arguments: ['@current_user', '@language_manager', '@entity_type.manager','@commerce_recruiting.recruiting_session']
  commerce_recruiting.campaign_manager:
    class: Drupal\commerce_recruiting\CampaignManager
    arguments: ['@language_manager', '@entity_type.manager','@commerce_recruiting.recruiting_session']

  commerce_recruiting.recruiting_checkout_subscriber:
    class: Drupal\commerce_recruiting\EventSubscriber\RecruitingCheckoutSubscriber
    arguments: ['@current_user', '@messenger', '@commerce_recruiting.manager']
    tags:
      - { name: event_subscriber }
  commerce_recruiting.recruiting_session:
    class: Drupal\commerce_recruiting\RecruitingSession
    arguments: ['@session', '@entity_type.manager']

  commerce_recruiting.recruiting_guard:
    class: Drupal\commerce_recruiting\Guard\RecrutingGuard
    arguments: ['@current_user', '@plugin.manager.workflow']
    tags:
      - { name: state_machine.guard, group: recruiting }

  logger.channel.commerce_recruiting:
    parent: logger.channel_base
    arguments: ['commerce_recruiting']

  commerce_recruiting.invoice_manager:
    class: Drupal\commerce_recruiting\InvoiceManager
    arguments: ['@entity_type.manager','@commerce_recruiting.manager']
